import{defineComponent as t,inject as e,computed as r,openBlock as n,createElementBlock as o,createElementVNode as i}from"vue";var a=(0).constructor,s=a.isFinite;a.isInteger;var h=[].constructor.isArray;function u(t){return null!==t&&"object"==typeof t}function f(t,e){return void 0===e&&(e=0),"string"==typeof t&&t.length>=e}function c(t){return s(t)}function p(t){return h(t)}function l(t,e){return u(t)&&e in t}var d="'\"`",v=new(function(){function t(t){this.size=t,this.reset()}return t.prototype.reset=function(){this.oldestIndex=0,this.map={},this.cachedKeys=new Array(this.size)},t.prototype.get=function(t){return this.map[t]},t.prototype.set=function(t,e){this.map[t]=e;var r=this.cachedKeys[this.oldestIndex];void 0!==r&&delete this.map[r],this.cachedKeys[this.oldestIndex]=t,this.oldestIndex++,this.oldestIndex%=this.size},t}())(1e3);function g(t){var e=t.charAt(0),r=t.substr(-1);if(d.includes(e)||d.includes(r)){if(t.length<2||e!==r)throw new SyntaxError('Mismatching string quotation: "'+t+'"');return t.substring(1,t.length-1)}if(t.includes("["))throw new SyntaxError('Missing ] in varName "'+t+'"');return"+"===e?t.substr(1):t}function y(t,e,r){var n=e.trim();if(""===n)return t;if(n.startsWith(".")){if(!r)throw new SyntaxError('Unexpected . at the start of "'+e+'"');if(""===(n=n.substr(1).trim()))return t}else if(r)throw new SyntaxError('Missing . at the start of "'+e+'"');if(n.endsWith("."))throw new SyntaxError('Unexpected "." at the end of "'+e+'"');for(var o=0,i=n.split(".");o<i.length;o++){var a=i[o].trim();if(""===a)throw new SyntaxError('Empty prop name when parsing "'+e+'"');t.push(a)}return t}function w(t){if(!f(t))throw new TypeError("Cannot parse path. Expected string. Got a "+typeof t);for(var e,r,n=0,o=!1,i=new Array(0),a=0;a<t.length&&-1!==(e=t.indexOf("[",a));a=n){if(-1===(n=t.indexOf("]",e)))throw new SyntaxError('Missing ] in varName "'+t+'"');if(0===(r=t.substring(e+1,n).trim()).length)throw new SyntaxError("Unexpected token ]");n++,y(i,t.substring(a,e),o),i.push(g(r)),o=!0}return y(i,t.substring(n),o)}function m(t,e,r){if(void 0===r&&(r={}),!u(r))throw new TypeError("get expects an object option. Got "+typeof r);var n=r.depth,o=void 0===n?10:n;if(!c(o)||o<=0)throw new RangeError("Expected a positive number for depth. Got "+o);var i=Array.isArray(e)?e:w.cached(e),a=function(){return i.join(" > ")};if(i.length>o)throw new ReferenceError("The path cannot be deeper than "+o+' levels. Got "'+a()+'"');for(var s=t,h=0,f=i;h<f.length;h++){var p=f[h];if(!l(s,p)){if(r.propsExist)throw new ReferenceError(p+' is not defined in the scope at path: "'+a()+'"');return}s=s[p]}return s}w.cached=function(t){var e=v.get(t);return void 0===e&&(e=w(t),v.set(t,e)),e};var x=function(){function t(t,e){var r=this;if(void 0===e&&(e={}),this.tokens=t,this.options=e,this.render=function(t){void 0===t&&(t={});var e=r.tokens.varNames.length;r.cacheParsedPaths();for(var n=new Array(e),o=0;o<e;o++)n[o]=m(t,r.toPathCache[o],r.options);return r.stringify(n)},this.renderFn=function(t,e){void 0===e&&(e={});var n=r.resolveVarNames(t,e);return r.stringify(n)},this.renderFnAsync=function(t,e){return void 0===e&&(e={}),Promise.all(r.resolveVarNames(t,e)).then((function(t){return r.stringify(t)}))},!u(t)||!p(t.strings)||!p(t.varNames)||t.strings.length!==t.varNames.length+1)throw new TypeError("Invalid tokens object");if(!u(e))throw new TypeError("Options should be an object. Got a "+typeof e);e.validateVarNames&&this.cacheParsedPaths()}return t.prototype.cacheParsedPaths=function(){var t=this.tokens.varNames;if(void 0===this.toPathCache){this.toPathCache=new Array(t.length);for(var e=0;e<t.length;e++)this.toPathCache[e]=w.cached(t[e])}},t.prototype.resolveVarNames=function(t,e){void 0===e&&(e={});var r=this.tokens.varNames;if("function"!=typeof t)throw new TypeError("Expected a resolver function. Got "+String(t));for(var n=r.length,o=new Array(n),i=0;i<n;i++)o[i]=t.call(null,r[i],e);return o},t.prototype.stringify=function(t){for(var e=this.tokens.strings,r=this.options.explicit,n=t.length,o="",i=0;i<n;i++){o+=e[i];var a=t[i];(r||null!=a)&&(o+=a)}return o+=e[n]},t}();function E(t,e){void 0===e&&(e={});var r=function(t,e){if(void 0===e&&(e={}),!f(t))throw new TypeError("The template parameter must be a string. Got a "+typeof t);if(!u(e))throw new TypeError("Options should be an object. Got a "+typeof e);var r=e.tags,n=void 0===r?["{{","}}"]:r,o=e.maxVarNameLength,i=void 0===o?1e3:o;if(!p(n)||2!==n.length)throw TypeError("tags should be an array of two elements. Got "+String(n));var a=n[0],s=n[1];if(!f(a,1)||!f(s,1)||a===s)throw new TypeError('The open and close symbols should be two distinct non-empty strings. Got "'+a+'" and "'+s+'"');if(!c(i)||i<=0)throw new Error("Expected a positive number for maxVarNameLength. Got "+i);for(var h,l,d=a.length,v=s.length,g=0,y=[],w=[],m=0;m<t.length&&-1!==(h=t.indexOf(a,m));){var x=h+d;if(-1===(g=t.substr(x,i+v).indexOf(s)))throw new SyntaxError('Missing "'+s+'" in the template for the "'+a+'" at position '+h+" within "+i+" characters");if(g+=x,0===(l=t.substring(x,g).trim()).length)throw new SyntaxError('Unexpected "'+s+'" tag found at position '+h);if(l.includes(a))throw new SyntaxError('Variable names cannot have "'+a+'". But at position '+h+'. Got "'+l+'"');w.push(l),g+=v,y.push(t.substring(m,h)),m=g}return y.push(t.substring(g)),{strings:y,varNames:w}}(t,e);return new x(r,e)}var b=(t,e)=>{const r=t.__vccOpts||t;for(const[t,n]of e)r[t]=n;return r};const N=t({emits:["input"],props:{url:{type:String,default:null},height:{type:Number,default:600}},setup(t){const n=e("values");return{url:r((()=>{return e=t.url,r=n.value,E(e,o).render(r);var e,r,o}))}}}),S={width:"100%"},T=["src","height"];var G={id:"iframe",name:"IFrame",description:"Display an IFrame",icon:"iframe",component:b(N,[["render",function(t,e,r,a,s,h){return n(),o("div",S,[i("iframe",{src:t.url,title:"IFrame",width:"100%",height:t.height+"px"},null,8,T)])}],["__file","interface.vue"]]),hideLabel:!0,hideLoader:!0,types:["alias"],localTypes:["presentation"],group:"presentation",options:({collection:t})=>[{field:"url",type:"full",name:"URL",meta:{width:"full",interface:"system-display-template",options:{collectionName:t,font:"monospace",placeholder:"Enter a URL"}}},{field:"height",type:"number",name:"Height",meta:{options:{placeholder:"600"}}}]};export{G as default};
